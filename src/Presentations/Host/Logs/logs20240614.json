{"@t":"2024-06-14T02:32:07.0954769Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":24800,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:32:12.4532758Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeTenantDbAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 55\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeDatabasesAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 25\r\n   at FSH.WebApi.Infrastructure.Startup.InitializeDatabasesAsync(IServiceProvider services, CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 74\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 25","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":24800,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:32:12.5717336Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":24800,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:33:11.4136739Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":51132,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:33:16.7523757Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeTenantDbAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 55\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeDatabasesAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 25\r\n   at FSH.WebApi.Infrastructure.Startup.InitializeDatabasesAsync(IServiceProvider services, CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 74\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 25","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":51132,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:33:16.8422154Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":51132,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:37:13.8743605Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":66440,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:40:20.9393597Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeTenantDbAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 55\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeDatabasesAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 25\r\n   at FSH.WebApi.Infrastructure.Startup.InitializeDatabasesAsync(IServiceProvider services, CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 74\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 25","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":66440,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:40:21.0155494Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":66440,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:40:49.4434767Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":12796,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:41:33.6914083Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeTenantDbAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 55\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeDatabasesAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 25\r\n   at FSH.WebApi.Infrastructure.Startup.InitializeDatabasesAsync(IServiceProvider services, CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 74\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 25","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":12796,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:41:33.7576586Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":12796,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:42:14.0548790Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":32192,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:43:45.3693139Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetAppliedMigrations(DatabaseFacade databaseFacade)\r\n   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetPendingMigrations(DatabaseFacade databaseFacade)\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeTenantDbAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 55\r\n   at FSH.WebApi.Infrastructure.Persistence.Initialization.DatabaseInitializer.InitializeDatabasesAsync(CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Persistence\\Initialization\\DatabaseInitializer.cs:line 25\r\n   at FSH.WebApi.Infrastructure.Startup.InitializeDatabasesAsync(IServiceProvider services, CancellationToken cancellationToken) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 74\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 25","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":32192,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T02:43:45.4348179Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":32192,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T03:04:37.9586981Z","@mt":"Unhandled exception","@l":"Fatal","@x":"Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432\r\n ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.Open()\r\n   at Hangfire.PostgreSql.PostgreSqlStorage.CreateAndOpenConnection()\r\n   at Hangfire.PostgreSql.PostgreSqlStorage..ctor(String connectionString, Action`1 connectionSetup, PostgreSqlStorageOptions options)\r\n   at Hangfire.PostgreSql.PostgreSqlBootstrapperConfigurationExtensions.UsePostgreSqlStorage(IGlobalConfiguration configuration, String connectionString, Action`1 connectionSetup, PostgreSqlStorageOptions options)\r\n   at Hangfire.PostgreSql.PostgreSqlBootstrapperConfigurationExtensions.UsePostgreSqlStorage(IGlobalConfiguration configuration, String connectionString, PostgreSqlStorageOptions options)\r\n   at FSH.WebApi.Infrastructure.BackgroundJobs.Startup.UseDatabase(IGlobalConfiguration hangfireConfig, String dbProvider, String connectionString, IConfiguration config) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\BackgroundJobs\\Startup.cs:line 48\r\n   at FSH.WebApi.Infrastructure.BackgroundJobs.Startup.<>c__DisplayClass1_0.<AddBackgroundJobs>b__1(IServiceProvider provider, IGlobalConfiguration hangfireConfig) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\BackgroundJobs\\Startup.cs:line 35\r\n   at Hangfire.HangfireServiceCollectionExtensions.<>c__DisplayClass1_0.<AddHangfire>b__10(IServiceProvider serviceProvider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)\r\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)\r\n   at Hangfire.HangfireServiceCollectionExtensions.ThrowIfNotConfigured(IServiceProvider serviceProvider)\r\n   at Hangfire.HangfireApplicationBuilderExtensions.UseHangfireDashboard(IApplicationBuilder app, String pathMatch, DashboardOptions options, JobStorage storage)\r\n   at FSH.WebApi.Infrastructure.BackgroundJobs.Startup.UseHangfireDashboard(IApplicationBuilder app, IConfiguration config) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\BackgroundJobs\\Startup.cs:line 71\r\n   at FSH.WebApi.Infrastructure.Startup.UseInfrastructure(IApplicationBuilder builder, IConfiguration config) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Infrastructure\\Startup.cs:line 79\r\n   at Program.<Main>$(String[] args) in D:\\Repositoris\\Tests\\dotnet-starter-kit\\src\\Host\\Program.cs:line 27","Application":"FSH.WebApi","ExceptionDetail":{"HResult":-2147467259,"Message":"Failed to connect to 127.0.0.1:5432","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","InnerException":{"Type":"System.Net.Sockets.SocketException","HResult":-2147467259,"Message":"No connection could be made because the target machine actively refused it.","Source":"Npgsql","TargetSite":"Void Connect(Npgsql.Util.NpgsqlTimeout)","SocketErrorCode":"ConnectionRefused","SocketErrorCodeMessage":"The remote host is actively refusing a connection."},"IsTransient":true,"BatchCommand":null,"SqlState":null,"DbException.BatchCommand":null,"ErrorCode":-2147467259,"Type":"Npgsql.NpgsqlException"},"MachineName":"THBKK01ITSN0521","ProcessId":62196,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T03:04:38.0620936Z","@mt":"Server Shutting down...","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":62196,"ThreadId":1,"Environment":"NotDevelopment"}
{"@t":"2024-06-14T03:52:27.1336637Z","@mt":"Current DB Provider: {dbProvider}","dbProvider":"postgresql","SourceContext":"FSH.WebApi.Infrastructure.Persistence.Startup","Application":"FSH.WebApi","MachineName":"THBKK01ITSN0521","ProcessId":44668,"ThreadId":1,"Environment":"NotDevelopment"}
